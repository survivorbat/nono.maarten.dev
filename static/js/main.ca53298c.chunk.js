(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(12),a=n.n(i),o=(n(21),n(2)),s=(n(22),n(31)),l=n(32),u=n(33);var m=function(e){var t=e.tile,n=e.select,c=e.solved;return r.createElement("div",{onClick:t.isSelected()||c?void 0:function(){return n(t)},className:"tile tile-".concat(t.isSelected()?"":"un","selected ").concat(c?"tile-solved":"")})};var f=function(e){var t=e.hints,n=e.solved,c=e.vertical;return r.createElement("div",{style:{flexDirection:c?"column":"row"},className:"grid-hint ".concat(n?" hint-solved":"")},t.map(function(e,t){return r.createElement("span",{key:t,className:"row-hint-number"},e)}))};var d=function(e){var t=e.row,n=e.columns,c=e.select;return r.createElement(r.Fragment,null,r.createElement("div",{className:"grid-column-hint"},r.createElement(f,{solved:t.isCorrect(),hints:t.getHints()})),t.tiles.map(function(e,i){return r.createElement(m,{solved:n[i].isCorrect()||t.isCorrect(),tile:e,select:c,key:i})}),r.createElement("div",null))};n(23);var h=function(e){var t=e.grid,n=e.select,c=Object(r.useRef)(),i=Object(r.useState)(0),a=Object(o.a)(i,2)[1],s=Object(r.useState)(0),l=Object(o.a)(s,2)[1],u=function(){a(window.innerWidth),l(window.innerHeight)};Object(r.useEffect)(function(){return window.addEventListener("resize",u),function(){return window.removeEventListener("resize",u)}},[]);var m=t.rows.length+2,h=Math.round(Math.sqrt(400*window.innerWidth)),v={gridTemplateColumns:"repeat(".concat(m,",1fr)"),gridTemplateRows:"repeat(".concat(m,", 1fr)"),height:h,width:h};return r.createElement("div",{className:"grid-grid",style:v,ref:c},r.createElement("div",null),t.columnHints.map(function(e,n){return r.createElement(f,{vertical:!0,key:n,solved:t.columns[n].isCorrect(),hints:e})}),r.createElement("div",null),t.rows.map(function(e,c){return r.createElement(d,{row:e,columns:t.columns,key:c,select:n})}))},v=n(5),w=n(8),E=function(){function e(t){Object(v.a)(this,e),this.tiles=t}return Object(w.a)(e,[{key:"isCorrect",value:function(){return!this.tiles.some(function(e){return!e.isCorrect()})}},{key:"getHints",value:function(){return this.tiles.reduce(function(e,t){return t.getSolution()?(e[e.length-1]-=1,e):e.concat(0)},[0]).filter(function(e){return 0!==e})}}]),e}(),b=n(14),g=n(10),p=n(13),j=n(15),O=function(e){function t(e,n){return Object(v.a)(this,t),Object(b.a)(this,Object(g.a)(t).call(this,"invalid tiles length, got ".concat(n," instead of ").concat(e)))}return Object(p.a)(t,e),t}(Object(j.a)(Error)),y=function(){function e(t,n){if(Object(v.a)(this,e),this.tiles=t,this.size=n,this.columnHints=void 0,this.rowHints=void 0,this.rows=void 0,this.columns=void 0,t.length!==Math.pow(n,2))throw new O(Math.pow(n,2),t.length);this.rows=t.reduce(function(e,t,r){var c=Math.floor((r+.1)/n);return e[c]=e[c].concat(t),e},new Array(n).fill([])).map(function(e){return new E(e)}),this.rowHints=this.rows.map(function(e){return e.getHints()}),this.columns=t.reduce(function(e,t,r){var c=r%n;return e[c]=e[c].concat(t),e},new Array(n).fill([])).map(function(e){return new E(e)}),this.columnHints=this.columns.map(function(e){return e.getHints()})}return Object(w.a)(e,[{key:"isCorrect",value:function(){return!this.tiles.some(function(e){return!e.isCorrect()})}}]),e}(),k=function(){function e(t){Object(v.a)(this,e),this.solution=t,this.selected=!1}return Object(w.a)(e,[{key:"isCorrect",value:function(){return this.selected===this.solution}},{key:"getSolution",value:function(){return this.solution}},{key:"isSelected",value:function(){return this.selected}},{key:"select",value:function(){if(this.selected)throw new Error("tile already selected");if(!this.solution)throw new Error("tile must not be selected");this.selected=!0}}]),e}(),C=function(e){var t=new Array(Math.pow(e,2)).fill(0).map(function(){return new k(Math.random()<=.7)});return new y(t,e)};n(24);var S=function(e){var t=e.message;return r.createElement("p",{className:"error-field"},t)};n(25);var N=function(e){var t=e.newGame;return r.createElement("div",{className:"new-game-container"},r.createElement("button",{type:"button",onClick:t,className:"new-game-button"},"New Game"))};n(26);var H=function(e){var t=e.message;return r.createElement("p",{className:"success-field"},t)};var M=function(){var e=Object(r.useState)(2),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(C(n)),a=Object(o.a)(i,2),m=a[0],f=a[1],d=Object(r.useState)(""),v=Object(o.a)(d,2),w=v[0],E=v[1],b=Object(r.useState)(""),g=Object(o.a)(b,2),p=g[0],j=g[1];return r.createElement(s.a,{fluid:!0},r.createElement(l.a,null,r.createElement(u.a,{className:"d-flex justify-content-center"},r.createElement(h,{grid:m,select:function(e){try{e.select(),E("")}catch(t){E("Oops, that one was wrong!"),c(n-1<4?n-1:n)}f(new y(m.tiles,m.size)),m.isCorrect()&&(j("Congrats, you solved the puzzle!"),c(n+1))}}))),r.createElement(l.a,null,r.createElement(u.a,null,r.createElement(S,{message:w}))),r.createElement(l.a,null,r.createElement(u.a,null,r.createElement(H,{message:p}))),r.createElement(N,{newGame:function(){f(C(n)),j("")}}))};n(28);a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(M,null)),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.ca53298c.chunk.js.map